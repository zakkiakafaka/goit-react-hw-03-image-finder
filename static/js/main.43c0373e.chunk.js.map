{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","shared/Button/Button.module.css","shared/Loader/Loader.module.css","components/SearchBar/SearchBar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","shared/Modal/Modal.js","shared/Button/Button.js","shared/Loader/Loader.js","services/imagesApi.js","App.js","index.js","components/SearchBar/SearchBar.module.css","shared/Modal/Modal.module.css"],"names":["module","exports","SearchBar","state","inputValue","handleChange","event","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","styles","Searchbar","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","webformatURL","largeImageURL","tags","handleBigImg","name","split","onClick","src","alt","ImageGalleryItemImage","ImageGallery","images","items","map","el","id","Modal","onCloseModal","code","nodeName","closeModal","window","addEventListener","removeEventListener","Overlay","largeImg","Img","Button","ImageLoader","loader","color","height","width","fetchImagesWithQuery","searchQuery","page","axios","get","then","response","data","hits","propTypes","PropTypes","string","isRequired","number","App","error","loading","found","fetchImages","imagesApi","length","prevState","catch","finally","scrollHeight","document","documentElement","scrollTo","top","behavior","handleSearchFormSubmit","query","body","classList","add","remove","prevProps","scrollTop","clientHeight","style","textAlign","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.43c0373e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__FWVZ2\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__7_4nK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__R02je\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2vG8V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2No2S\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchBar.module.css';\n\nclass SearchBar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    inputValue: '',\n  };\n\n  handleChange = event => {\n    this.setState({ inputValue: event.target.value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    this.props.onSubmit(this.state.inputValue);\n    this.setState({ inputValue: '' });\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.inputValue}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default SearchBar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({\n  webformatURL,\n  largeImageURL,\n  tags,\n  handleBigImg,\n}) => {\n  const name = tags.split(',')[0];\n  return (\n    <li\n      className={styles.ImageGalleryItem}\n      onClick={() => handleBigImg(largeImageURL)}\n    >\n      <img\n        src={webformatURL}\n        alt={name}\n        className={styles.ImageGalleryItemImage}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  tags: PropTypes.string.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  handleBigImg: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, handleBigImg }) => {\n  const items = images.map(el => (\n    <ImageGalleryItem\n      key={el.id}\n      webformatURL={el.webformatURL}\n      largeImageURL={el.largeImageURL}\n      tags={el.tags}\n      handleBigImg={handleBigImg}\n    />\n  ));\n  return <ul className={styles.ImageGallery}>{items}</ul>;\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  handleBigImg: PropTypes.func.isRequired,\n};\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport styles from './Modal.module.css';\nimport PropTypes from 'prop-types';\n\nclass Modal extends Component {\n  static propTypes = {\n    largeImg: PropTypes.string.isRequired,\n    closeModal: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.onCloseModal);\n    window.addEventListener('click', this.onCloseModal);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.onCloseModal);\n    window.removeEventListener('click', this.onCloseModal);\n  }\n\n  onCloseModal = event => {\n    if (event.code === 'Escape' || event.target.nodeName !== 'IMG') {\n      this.props.closeModal();\n    }\n  };\n\n  render() {\n    return (\n      <div className={styles.Overlay}>\n        <div className={styles.Modal}>\n          <img src={this.props.largeImg} alt=\"\" className={styles.Img} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport styles from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nclass Button extends Component {\n  render() {\n    return (\n      <button\n        type=\"button\"\n        className={styles.Button}\n        onClick={this.props.onClick}\n      >\n        Load more\n      </button>\n    );\n  }\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\nimport styles from './Loader.module.css';\n\nclass ImageLoader extends Component {\n  render() {\n    return (\n      <div className={styles.loader}>\n        <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} />\n      </div>\n    );\n  }\n}\n\nexport default ImageLoader;\n","import axios from 'axios';\nimport PropTypes from 'prop-types';\n\nconst fetchImagesWithQuery = (searchQuery, page = 1) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=21560161-7fb1a88411020dba256d86926&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(response => response.data.hits);\n};\n\nfetchImagesWithQuery.propTypes = {\n  searchQuery: PropTypes.string.isRequired,\n  page: PropTypes.number.isRequired,\n};\n\nexport default { fetchImagesWithQuery };\n","import React, { Component } from 'react';\nimport SearchBar from './components/SearchBar/SearchBar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Modal from './shared/Modal/Modal';\nimport Button from './shared/Button/Button';\nimport ImageLoader from './shared/Loader/Loader';\n\nimport imagesApi from './services/imagesApi';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n    images: [],\n    page: 1,\n    largeImg: '',\n    error: null,\n    loading: false,\n    found: true,\n  };\n  componentDidMount() {}\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.page > 2) {\n      const { scrollTop, clientHeight } = document.documentElement;\n      window.scrollTo({\n        top: scrollTop + clientHeight - 165,\n        behavior: 'smooth',\n      });\n    }\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n    if (prevQuery !== nextQuery) {\n      this.fetchImages();\n    }\n  }\n\n  fetchImages = () => {\n    const { searchQuery, page } = this.state;\n    this.setState({ loading: true });\n    imagesApi\n      .fetchImagesWithQuery(searchQuery, page)\n      .then(images => {\n        if (images.length === 0) {\n          this.setState({ found: false });\n        } else {\n          this.setState(prevState => ({\n            images: [...prevState.images, ...images],\n            page: prevState.page + 1,\n            found: true,\n          }));\n        }\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n    if (page > 1) {\n      const { scrollHeight } = document.documentElement;\n      window.scrollTo({\n        top: scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  };\n  handleSearchFormSubmit = query => {\n    this.setState({\n      searchQuery: query,\n      page: 1,\n      images: [],\n    });\n  };\n\n  handleBigImg = largeImg => {\n    this.setState({ largeImg });\n    document.body.classList.add('modal-isOpen');\n  };\n\n  closeModal = () => {\n    this.setState({\n      largeImg: '',\n    });\n    document.body.classList.remove('modal-isOpen');\n  };\n  render() {\n    const { images, loading, error, found, largeImg } = this.state;\n    return (\n      <>\n        <SearchBar onSubmit={this.handleSearchFormSubmit} />\n        {(error || !found) && !images.length && (\n          <h2 style={{ textAlign: 'center' }}>\n            Oops, something went wrong. Enter a correct query\n          </h2>\n        )}\n        <ImageGallery images={images} handleBigImg={this.handleBigImg} />\n        {loading && <ImageLoader />}\n        {images.length > 0 && !loading && found && (\n          <Button onClick={this.fetchImages} />\n        )}\n        {largeImg && <Modal largeImg={largeImg} closeModal={this.closeModal} />}\n      </>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__1sDo_\",\"SearchForm\":\"SearchBar_SearchForm__3XMLS\",\"SearchFormButton\":\"SearchBar_SearchFormButton__2ZOkt\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__1KsjT\",\"SearchFormInput\":\"SearchBar_SearchFormInput__13Dey\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3_ldL\",\"Modal\":\"Modal_Modal__3G1mQ\",\"Img\":\"Modal_Img__31exo\"};"],"sourceRoot":""}